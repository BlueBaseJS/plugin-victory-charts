{"version":3,"file":"react-popper-tooltip.js","sources":["../../src/utils.ts","../../src/Tooltip.tsx","../../src/TooltipTrigger.tsx"],"sourcesContent":["import React from 'react';\n\nexport const TooltipContext = React.createContext({});\n\ntype Fn = (...args: any[]) => void;\ntype FnOrBool = undefined | Fn;\n\nexport const callAll = (...fns: FnOrBool[]) => (...args: any[]) =>\n  fns.forEach(fn => fn && fn(...args));\n\nexport const noop = () => {};\n\nexport const canUseDOM = () =>\n  !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  );\n","import React, {Component} from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {IGetArrowPropsArg, IGetTooltipPropsArg, ITooltipProps} from './types';\nimport {callAll, TooltipContext} from './utils';\n\nconst MUTATION_OBSERVER_CONFIG: MutationObserverInit = {\n  childList: true,\n  subtree: true\n};\n\nclass Tooltip extends Component<ITooltipProps> {\n  private mounted?: boolean;\n  private observer?: MutationObserver;\n\n  public componentDidMount() {\n    this.mounted = true;\n    const {trigger} = this.props;\n    const observer = (this.observer = new MutationObserver(() => {\n      this.props.scheduleUpdate();\n    }));\n    observer.observe(findDOMNode(this)!, MUTATION_OBSERVER_CONFIG);\n\n    if (trigger === 'click' || trigger === 'right-click') {\n      const {\n        removeParentOutsideClickHandler,\n        removeParentOutsideRightClickHandler\n      } = this.props;\n      this.addOutsideClickHandler();\n      this.addOutsideRightClickHandler();\n      if (removeParentOutsideClickHandler) {\n        removeParentOutsideClickHandler();\n      }\n      if (removeParentOutsideRightClickHandler) {\n        removeParentOutsideRightClickHandler();\n      }\n    }\n  }\n\n  public componentDidUpdate() {\n    if (this.props.closeOnOutOfBoundaries && this.props.outOfBoundaries) {\n      this.props.hideTooltip();\n    }\n  }\n\n  public componentWillUnmount() {\n    this.mounted = false;\n    const {trigger} = this.props;\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n\n    if (trigger === 'click' || trigger === 'right-click') {\n      const {\n        addParentOutsideClickHandler,\n        addParentOutsideRightClickHandler\n      } = this.props;\n      this.removeOutsideClickHandler();\n      this.removeOutsideRightClickHandler();\n      this.handleOutsideClick = undefined;\n      this.handleOutsideRightClick = undefined;\n      if (addParentOutsideClickHandler) {\n        addParentOutsideClickHandler();\n      }\n      if (addParentOutsideRightClickHandler) {\n        addParentOutsideRightClickHandler();\n      }\n    }\n  }\n\n  public render() {\n    const {arrowProps, placement, tooltip, innerRef} = this.props;\n\n    return (\n      <TooltipContext.Provider\n        value={{\n          addParentOutsideClickHandler: this.addOutsideClickHandler,\n          addParentOutsideRightClickHandler: this.addOutsideRightClickHandler,\n          parentOutsideClickHandler: this.handleOutsideClick,\n          parentOutsideRightClickHandler: this.handleOutsideRightClick,\n          removeParentOutsideClickHandler: this.removeOutsideClickHandler,\n          removeParentOutsideRightClickHandler: this\n            .removeOutsideRightClickHandler\n        }}\n      >\n        {tooltip({\n          arrowRef: arrowProps.ref,\n          getArrowProps: this.getArrowProps,\n          getTooltipProps: this.getTooltipProps,\n          placement,\n          tooltipRef: innerRef\n        })}\n      </TooltipContext.Provider>\n    );\n  }\n\n  private handleOutsideClick?: EventListener = event => {\n    event.stopPropagation();\n    event.preventDefault();\n    if (this.mounted && !findDOMNode(this)!.contains(event.target as Node)) {\n      const {\n        hideTooltip,\n        clearScheduled,\n        parentOutsideClickHandler\n      } = this.props;\n\n      clearScheduled();\n      hideTooltip();\n      if (parentOutsideClickHandler) {\n        parentOutsideClickHandler(event);\n      }\n    }\n  };\n\n  private handleOutsideRightClick?: EventListener = event => {\n    if (this.mounted && !findDOMNode(this)!.contains(event.target as Node)) {\n      const {\n        hideTooltip,\n        clearScheduled,\n        parentOutsideRightClickHandler\n      } = this.props;\n\n      clearScheduled();\n      hideTooltip();\n      if (parentOutsideRightClickHandler) {\n        parentOutsideRightClickHandler(event);\n      }\n    }\n  };\n\n  private addOutsideClickHandler = () => {\n    document.addEventListener('touchend', this.handleOutsideClick!);\n    document.addEventListener('click', this.handleOutsideClick!);\n  };\n\n  private removeOutsideClickHandler = () => {\n    document.removeEventListener('touchend', this.handleOutsideClick!);\n    document.removeEventListener('click', this.handleOutsideClick!);\n  };\n\n  private addOutsideRightClickHandler = () =>\n    document.addEventListener('contextmenu', this.handleOutsideRightClick!);\n\n  private removeOutsideRightClickHandler = () =>\n    document.removeEventListener('contextmenu', this.handleOutsideRightClick!);\n\n  private getArrowProps = (props: IGetArrowPropsArg = {}) => ({\n    ...props,\n    style: {...props.style, ...this.props.arrowProps.style}\n  });\n\n  private getTooltipProps = (props: IGetTooltipPropsArg = {}) => {\n    const isHoverTriggered = this.props.trigger === 'hover';\n\n    return {\n      ...props,\n      ...(isHoverTriggered && {\n        onMouseEnter: callAll(this.props.clearScheduled, props.onMouseEnter)\n      }),\n      ...(isHoverTriggered && {\n        onMouseLeave: callAll(this.props.hideTooltip, props.onMouseLeave)\n      }),\n      style: {...props.style, ...this.props.style}\n    };\n  };\n}\n\nexport default Tooltip;\n","/**\n * @author Mohsin Ul Haq <mohsinulhaq01@gmail.com>\n */\nimport PopperJS from 'popper.js';\nimport React, {Component} from 'react';\nimport {createPortal} from 'react-dom';\nimport {Manager, Popper, Reference} from 'react-popper';\nimport Tooltip from './Tooltip';\nimport {\n  IGetTriggerPropsArg,\n  ITooltipTriggerProps,\n  ITooltipTriggerState\n} from './types';\nimport {callAll, canUseDOM, noop, TooltipContext} from './utils';\n\nconst DEFAULT_MODIFIERS: PopperJS.Modifiers = {\n  preventOverflow: {\n    boundariesElement: 'viewport'\n  }\n};\n\nclass TooltipTrigger extends Component<\n  ITooltipTriggerProps,\n  ITooltipTriggerState\n> {\n  public static defaultProps = {\n    closeOnOutOfBoundaries: true,\n    defaultTooltipShown: false,\n    delayHide: 0,\n    delayShow: 0,\n    followCursor: false,\n    onVisibilityChange: noop,\n    placement: 'right',\n    portalContainer: canUseDOM() ? document.body : null,\n    trigger: 'hover',\n    usePortal: canUseDOM()\n  };\n\n  public static contextType = TooltipContext;\n\n  public state: ITooltipTriggerState = {\n    tooltipShown: this.props.defaultTooltipShown\n  };\n\n  private hideTimeout?: number;\n  private showTimeout?: number;\n  private popperOffset?: PopperJS.Offset;\n\n  public componentWillUnmount() {\n    this.clearScheduled();\n  }\n\n  public render() {\n    const {\n      children,\n      tooltip,\n      placement,\n      trigger,\n      getTriggerRef,\n      modifiers,\n      closeOnOutOfBoundaries,\n      usePortal,\n      portalContainer,\n      followCursor,\n      getTooltipRef\n    } = this.props;\n\n    const {\n      parentOutsideClickHandler,\n      addParentOutsideClickHandler,\n      removeParentOutsideClickHandler,\n      parentOutsideRightClickHandler,\n      addParentOutsideRightClickHandler,\n      removeParentOutsideRightClickHandler\n    } = this.context;\n\n    const popper = (\n      <Popper\n        innerRef={getTooltipRef}\n        placement={placement}\n        modifiers={{\n          ...DEFAULT_MODIFIERS,\n          ...(followCursor && {\n            followCursorModifier: {\n              enabled: true,\n              fn: data => {\n                this.popperOffset = data.offsets.popper;\n                return data;\n              },\n              order: 1000\n            }\n          }),\n          ...modifiers\n        }}\n      >\n        {({\n          ref,\n          style,\n          // tslint:disable-next-line\n          placement,\n          arrowProps,\n          outOfBoundaries,\n          scheduleUpdate\n        }) => {\n          if (followCursor && this.popperOffset) {\n            const {pageX, pageY} = this.state;\n            const {width, height} = this.popperOffset;\n            const x =\n              pageX! + width > window.scrollX + document.body.offsetWidth\n                ? pageX! - width\n                : pageX;\n            const y =\n              pageY! + height > window.scrollY + document.body.offsetHeight\n                ? pageY! - height\n                : pageY;\n            style.transform = `translate3d(${x}px, ${y}px, 0`;\n          }\n\n          return (\n            <Tooltip\n              {...{\n                addParentOutsideClickHandler,\n                addParentOutsideRightClickHandler,\n                arrowProps,\n                closeOnOutOfBoundaries,\n                outOfBoundaries,\n                parentOutsideClickHandler,\n                parentOutsideRightClickHandler,\n                placement,\n                removeParentOutsideClickHandler,\n                removeParentOutsideRightClickHandler,\n                scheduleUpdate,\n                style,\n                tooltip,\n                trigger\n              }}\n              clearScheduled={this.clearScheduled}\n              hideTooltip={this.hideTooltip}\n              innerRef={ref}\n            />\n          );\n        }}\n      </Popper>\n    );\n\n    return (\n      <Manager>\n        <Reference innerRef={getTriggerRef}>\n          {({ref}) =>\n            children({getTriggerProps: this.getTriggerProps, triggerRef: ref})\n          }\n        </Reference>\n        {this.getState() &&\n          (usePortal ? createPortal(popper, portalContainer) : popper)}\n      </Manager>\n    );\n  }\n\n  private isControlled() {\n    return this.props.tooltipShown !== undefined;\n  }\n\n  private getState() {\n    return this.isControlled()\n      ? this.props.tooltipShown\n      : this.state.tooltipShown;\n  }\n\n  private setTooltipState = (state: ITooltipTriggerState) => {\n    const cb = () => this.props.onVisibilityChange(state.tooltipShown);\n    this.isControlled() ? cb() : this.setState(state, cb);\n  };\n\n  private clearScheduled = () => {\n    clearTimeout(this.hideTimeout);\n    clearTimeout(this.showTimeout);\n  };\n\n  private showTooltip = ({pageX, pageY}: {pageX: number; pageY: number}) => {\n    this.clearScheduled();\n    let state: ITooltipTriggerState = {\n      tooltipShown: true\n    };\n    if (this.props.followCursor) {\n      state = {\n        ...state,\n        pageX,\n        pageY\n      };\n    }\n    this.showTimeout = window.setTimeout(\n      () => this.setTooltipState(state),\n      this.props.delayShow\n    );\n  };\n\n  private hideTooltip = () => {\n    this.clearScheduled();\n    this.hideTimeout = window.setTimeout(\n      () => this.setTooltipState({tooltipShown: false}),\n      this.props.delayHide\n    );\n  };\n\n  private toggleTooltip = ({pageX, pageY}: {pageX: number; pageY: number}) => {\n    const action = this.getState() ? 'hideTooltip' : 'showTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private clickToggle: React.MouseEventHandler = (event: React.MouseEvent) => {\n    event.stopPropagation();\n    event.preventDefault();\n    const {pageX, pageY} = event;\n    const action = this.props.followCursor ? 'showTooltip' : 'toggleTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private contextMenuToggle: React.MouseEventHandler = event => {\n    event.preventDefault();\n    const {pageX, pageY} = event;\n    const action = this.props.followCursor ? 'showTooltip' : 'toggleTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private getTriggerProps = (props: IGetTriggerPropsArg = {}) => {\n    const {trigger, followCursor} = this.props;\n    const isClickTriggered = trigger === 'click';\n    const isHoverTriggered = trigger === 'hover';\n    const isRightClickTriggered = trigger === 'right-click';\n\n    return {\n      ...props,\n      ...(isClickTriggered && {\n        onClick: callAll(this.clickToggle, props.onClick),\n        onTouchEnd: callAll(this.clickToggle, props.onTouchEnd)\n      }),\n      ...(isRightClickTriggered && {\n        onContextMenu: callAll(this.contextMenuToggle, props.onContextMenu)\n      }),\n      ...(isHoverTriggered && {\n        onMouseEnter: callAll(this.showTooltip, props.onMouseEnter)\n      }),\n      ...(isHoverTriggered && {\n        onMouseLeave: callAll(this.hideTooltip, props.onMouseLeave)\n      }),\n      ...(isHoverTriggered &&\n        followCursor && {\n          onMouseMove: callAll(this.showTooltip, props.onMouseMove)\n        })\n    };\n  };\n}\n\nexport default TooltipTrigger;\n"],"names":["TooltipContext","React","createContext","callAll","fns","args","forEach","fn","noop","canUseDOM","window","document","createElement","MUTATION_OBSERVER_CONFIG","childList","subtree","Tooltip","mounted","observer","handleOutsideClick","event","stopPropagation","preventDefault","findDOMNode","contains","target","props","hideTooltip","clearScheduled","parentOutsideClickHandler","handleOutsideRightClick","parentOutsideRightClickHandler","addOutsideClickHandler","addEventListener","removeOutsideClickHandler","removeEventListener","addOutsideRightClickHandler","removeOutsideRightClickHandler","getArrowProps","style","arrowProps","getTooltipProps","isHoverTriggered","trigger","onMouseEnter","onMouseLeave","componentDidMount","MutationObserver","scheduleUpdate","observe","removeParentOutsideClickHandler","removeParentOutsideRightClickHandler","componentDidUpdate","closeOnOutOfBoundaries","outOfBoundaries","componentWillUnmount","disconnect","addParentOutsideClickHandler","addParentOutsideRightClickHandler","undefined","render","placement","tooltip","innerRef","arrowRef","ref","tooltipRef","Component","DEFAULT_MODIFIERS","preventOverflow","boundariesElement","TooltipTrigger","state","tooltipShown","defaultTooltipShown","hideTimeout","showTimeout","popperOffset","setTooltipState","cb","onVisibilityChange","isControlled","setState","clearTimeout","showTooltip","pageX","pageY","followCursor","setTimeout","delayShow","delayHide","toggleTooltip","action","getState","clickToggle","contextMenuToggle","getTriggerProps","isClickTriggered","isRightClickTriggered","onClick","onTouchEnd","onContextMenu","onMouseMove","children","getTriggerRef","modifiers","usePortal","portalContainer","getTooltipRef","context","popper","followCursorModifier","enabled","data","offsets","order","width","height","x","scrollX","body","offsetWidth","y","scrollY","offsetHeight","transform","triggerRef","createPortal","defaultProps","contextType"],"mappings":"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"}