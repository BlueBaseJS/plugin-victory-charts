"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function processMapperFields(fields) {
    const newFields = {};
    Object.keys(fields).forEach((srcKey) => {
        const destKey = fields[srcKey];
        newFields[srcKey] = typeof destKey === 'string' ? { key: destKey } : destKey;
    });
    return newFields;
}
/**
 * Example 1:
 *
 * mapObject({ foo: 'bar' })
 */
function objectMapper(obj, fields) {
    const newObj = {};
    const processedFields = processMapperFields(fields);
    Object.keys(processedFields).forEach(destKey => {
        const src = processedFields[destKey];
        let value;
        if (src.key && obj[src.key]) {
            value = obj[src.key];
        }
        if (src.transform) {
            value = src.transform(obj, fields);
        }
        if (value === undefined) {
            return;
        }
        newObj[destKey] = value;
    });
    return newObj;
}
exports.objectMapper = objectMapper;
